COUNT           HITS            RATIO           INVERSE
 500             165             0.33            3.03030303
 1000            318             0.318           3.14465409
 1500            470             0.313333333     3.19148937
 2000            641             0.3205          3.1201248
 2500            804             0.3216          3.10945274
 3000            967             0.322333333     3.10237849
 3500            1117            0.319142857     3.13339302
 4000            1281            0.32025         3.1225605
 4500            1443            0.320666667     3.11850312
 5000            1604            0.3208          3.11720698
 5500            1747            0.317636364     3.14825415
 6000            1888            0.314666667     3.1779661
 6500            2046            0.314769231     3.17693059
 7000            2198            0.314           3.18471338
 7500            2350            0.313333333     3.19148937
 8000            2512            0.314           3.18471338
 8500            2675            0.314705882     3.1775701
 9000            2825            0.313888889     3.18584071
 9500            2981            0.313789474     3.18685005
 10000           3141            0.3141          3.18369946
 10000           3141            0.3141          3.18369946
STOP in line 199

10 (0) REM BUFFON NEEDLE SIMULATION
30 (1) LET L0 = 2
32 (1) LET L = 1
40 (1) READ N, M
100 (1) PRINT "COUNT", "HITS", "RATIO", "INVERSE"
110 (0) REM MAIN LOOP
120 (1) LET C = 0
130 F(I:130) (1) FOR I = 1 TO N
140 F(I:130) (10000) GOSUB 200
150 F(I:130) (10000) IF MOD(I, M) <> 0 THEN 170
160 F(I:130) (20) GOSUB 300
170 (0) REM CONTINUE
180 F(I:130) (10000) NEXT I
190 (1) GOSUB 300
199 (1) STOP
200 (0) REM PROCEDURE A
210 G(210) (10000) LET D = RND(L0)
211 G(210) (10000) IF D < 0.5 * L0 THEN 220
212 G(210) (5025) LET D = L0 - D
220 G(210) (10000) LET T0 = RND(180)
230 G(210) (10000) LET T1 = RAD(T0)
240 G(210) (10000) LET X = 0.5 * SIN(T1)
250 G(210) (10000) IF D > X THEN 270
260 G(210) (3141) LET C = C + 1
270 (0) REM CONTINUE
290 G(210) (10000) RETURN
300 (0) REM PROCEDURE B
310 G(310) (21) LET R = C / I
320 G(310) (21) LET R1 = 1 / R
330 G(310) (21) PRINT I, C, R, R1
390 G(310) (21) RETURN
900 (0) DATA 10000, 500
999 (0) END

