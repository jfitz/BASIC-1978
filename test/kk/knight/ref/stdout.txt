RANK  FILE  LENGTH
 3  1  49
 8  8  39
 8  7  28
 5  1  45
 7  3  51
 2  2  45
 3  1  35
 8  1  28
 8  8  41
 2  1  44
 4  1  44

100.0 (1) REMARK THIS PROGRAM CARRIES OUT A SERIES OF KNIGHT'S MOVES
110.0 (1) REMARK UNTIL NO FURTHER MOVE IS POSSIBLE. IT THEN PRINTS
120.0 (1) REMARK OUT THE FINAL POSITION AND THE LENGTH OF THE SERIES.
130.0 (1)
140.0 (1) REMARK WE READ IN THE INITIAL PLACEMENT OF THE KNIGHT
150.0 (1) READ I0, J0
160.0 (1) PRINT "RANK  "; "FILE  "; "LENGTH"
180.0 (1)
182.0 (1) LET Z0 = 0
190.0 (1) REMARK WE ZERO THE BOARD AND INITIALIZE
200.0 (12) FOR I = 1 TO 8
210.0 (96) FOR J = 1 TO 8
220.0 (768) LET B(I, J) = 0
230.0 (768) NEXT J
240.0 (96) NEXT I
250.0 (12) LET I = I0
260.0 (12) LET J = J0
270.0 (12) LET M = 1
280.0 (12) LET B(I, J) = -1
290.0 (12)
300.0 (12) REMARK WE NOW START THE SERIES OF MOVES
310.0 (465) LET C1 = 9
320.0 (907) LET C = 0
330.0 (907) FOR I1 = I - 2 TO I + 2
340.0 (3676) IF I1 = 1 THEN 480
350.0 (3414) IF ABS(I1 - 4.5) > 4 THEN 480
360.0 (3062) LET D1 = 3 - ABS(I1 - I)
370.0 (3062) FOR J1 = J - D1 TO J + D1 STEP 2 * D1
380.0 (5911) IF ABS(J1 - 4.5) > 4 THEN 470
390.0 (4692) IF B(I1, J1) < 0 THEN 470
400.0 (2932) LET C = C + 1
410.0 (2932) IF C <> C1 THEN 470
420.0 (453) LET I = I1
430.0 (453) LET J = J1
440.0 (453) LET B(I, J) = -1
450.0 (453) LET M = M + 1
460.0 (453) GOTO 310
470.0 (5458) NEXT J1
480.0 (3223) NEXT I1
490.0 (453) IF C = 0 THEN 600
500.0 (442) REMARK NOW WE SELECT A RANDOM INTEGER TO SELECT A MOVE
510.0 (442) LET C1 = INT(RND(Z) * C + 1)
520.0 (442) GOTO 320
600.0 (11) REMARK WE HAVE GONE AS FAR AS WE CAN
610.0 (11) PRINT I; J; M
612.0 (11) LET Z0 = Z0 + 1
620.0 (11) IF Z0 < 40 THEN 200
630.0 (0) REMARK WE GO FOR ANOTHER TRIAL
880.0 (0)
890.0 (0) REMARK THE DATA FOR THE STARTING POSITION
900.0 (0) DATA 1, 1
999.0 (0) END

